/*
 * Global Variables
 */

var com = com || {};
com.aexoden = com.aexoden || {};
com.aexoden.ff4 = com.aexoden.ff4 || {};

/*
 * Module Definition
 */

com.aexoden.ff4.treasure = function()
{
	/*
	 * Constants
	 */

    /*
     * Data
     */

	TREASURE = {
		"vanilla": {
			"0": [
				0,
				8,
				2
			],
			"1": [
				0,
				3,
				6
			],
			"2": [
				0,
				12,
				10
			],
			"3": [
				0,
				18,
				19
			],
			"4": [
				0,
				24,
				27
			],
			"5": [
				0,
				27,
				26
			],
			"6": [
				0,
				29,
				29
			],
			"7": [
				1,
				21,
				8
			],
			"8": [
				1,
				28,
				20
			],
			"9": [
				1,
				29,
				20
			],
			"10": [
				2,
				24,
				18
			],
			"11": [
				4,
				13,
				8
			],
			"12": [
				4,
				23,
				8
			],
			"13": [
				4,
				30,
				17
			],
			"14": [
				5,
				4,
				3
			],
			"15": [
				5,
				1,
				5
			],
			"16": [
				5,
				1,
				7
			],
			"17": [
				5,
				4,
				7
			],
			"18": [
				6,
				9,
				15
			],
			"19": [
				11,
				16,
				3
			],
			"20": [
				11,
				17,
				3
			],
			"21": [
				11,
				19,
				3
			],
			"22": [
				11,
				10,
				17
			],
			"23": [
				12,
				5,
				4
			],
			"24": [
				12,
				9,
				4
			],
			"25": [
				14,
				1,
				3
			],
			"26": [
				14,
				5,
				3
			],
			"27": [
				15,
				22,
				5
			],
			"28": [
				15,
				23,
				5
			],
			"29": [
				15,
				23,
				7
			],
			"30": [
				15,
				22,
				25
			],
			"31": [
				33,
				31,
				8
			],
			"32": [
				33,
				31,
				9
			],
			"33": [
				33,
				20,
				29
			],
			"34": [
				42,
				13,
				3
			],
			"35": [
				42,
				14,
				3
			],
			"36": [
				42,
				15,
				3
			],
			"37": [
				46,
				2,
				15
			],
			"38": [
				46,
				3,
				15
			],
			"39": [
				46,
				4,
				15
			],
			"40": [
				46,
				2,
				16
			],
			"41": [
				46,
				3,
				16
			],
			"42": [
				46,
				4,
				16
			],
			"43": [
				53,
				3,
				3
			],
			"44": [
				53,
				1,
				4
			],
			"45": [
				53,
				2,
				4
			],
			"46": [
				53,
				8,
				4
			],
			"47": [
				54,
				1,
				4
			],
			"48": [
				54,
				1,
				5
			],
			"50": [
				55,
				7,
				4
			],
			"51": [
				55,
				4,
				5
			],
			"52": [
				55,
				5,
				5
			],
			"53": [
				55,
				6,
				5
			],
			"54": [
				56,
				4,
				3
			],
			"55": [
				58,
				13,
				29
			],
			"56": [
				58,
				16,
				29
			],
			"57": [
				58,
				19,
				29
			],
			"58": [
				59,
				1,
				12
			],
			"59": [
				59,
				7,
				19
			],
			"60": [
				59,
				20,
				17
			],
			"61": [
				61,
				17,
				5
			],
			"62": [
				62,
				2,
				7
			],
			"63": [
				64,
				11,
				4
			],
			"64": [
				66,
				1,
				3
			],
			"65": [
				66,
				4,
				3
			],
			"66": [
				66,
				5,
				3
			],
			"67": [
				67,
				3,
				4
			],
			"68": [
				67,
				4,
				4
			],
			"69": [
				67,
				5,
				4
			],
			"70": [
				67,
				7,
				4
			],
			"71": [
				67,
				1,
				5
			],
			"72": [
				67,
				3,
				5
			],
			"73": [
				67,
				4,
				5
			],
			"74": [
				67,
				5,
				5
			],
			"75": [
				67,
				7,
				5
			],
			"76": [
				68,
				14,
				5
			],
			"77": [
				73,
				1,
				7
			],
			"78": [
				73,
				28,
				7
			],
			"79": [
				73,
				28,
				8
			],
			"80": [
				73,
				28,
				9
			],
			"81": [
				78,
				9,
				6
			],
			"82": [
				79,
				3,
				7
			],
			"83": [
				80,
				2,
				3
			],
			"84": [
				80,
				6,
				3
			],
			"85": [
				80,
				1,
				4
			],
			"86": [
				80,
				1,
				5
			],
			"87": [
				91,
				5,
				6
			],
			"88": [
				92,
				1,
				3
			],
			"89": [
				92,
				2,
				3
			],
			"90": [
				92,
				4,
				3
			],
			"91": [
				92,
				5,
				3
			],
			"92": [
				92,
				7,
				3
			],
			"93": [
				92,
				8,
				3
			],
			"94": [
				92,
				10,
				3
			],
			"95": [
				92,
				11,
				3
			],
			"96": [
				93,
				3,
				5
			],
			"97": [
				93,
				4,
				5
			],
			"98": [
				93,
				5,
				5
			],
			"99": [
				93,
				6,
				5
			],
			"100": [
				93,
				7,
				5
			],
			"101": [
				93,
				8,
				5
			],
			"102": [
				93,
				9,
				5
			],
			"103": [
				93,
				10,
				5
			],
			"104": [
				93,
				11,
				5
			],
			"105": [
				93,
				3,
				6
			],
			"106": [
				93,
				4,
				6
			],
			"107": [
				93,
				5,
				6
			],
			"108": [
				93,
				6,
				6
			],
			"109": [
				93,
				7,
				6
			],
			"110": [
				93,
				8,
				6
			],
			"111": [
				93,
				9,
				6
			],
			"112": [
				93,
				10,
				6
			],
			"113": [
				93,
				11,
				6
			],
			"114": [
				94,
				13,
				4
			],
			"115": [
				95,
				4,
				3
			],
			"116": [
				95,
				4,
				4
			],
			"117": [
				95,
				14,
				3
			],
			"118": [
				95,
				14,
				4
			],
			"119": [
				95,
				15,
				4
			],
			"120": [
				97,
				1,
				5
			],
			"121": [
				97,
				11,
				5
			],
			"122": [
				98,
				4,
				4
			],
			"123": [
				98,
				8,
				8
			],
			"124": [
				98,
				10,
				5
			],
			"125": [
				98,
				11,
				5
			],
			"126": [
				99,
				2,
				5
			],
			"127": [
				99,
				12,
				5
			],
			"128": [
				100,
				1,
				5
			],
			"129": [
				100,
				1,
				6
			],
			"130": [
				100,
				6,
				3
			],
			"131": [
				100,
				11,
				5
			],
			"132": [
				100,
				11,
				6
			],
			"133": [
				101,
				2,
				11
			],
			"134": [
				101,
				3,
				11
			],
			"135": [
				101,
				8,
				12
			],
			"136": [
				108,
				6,
				3
			],
			"137": [
				108,
				24,
				3
			],
			"138": [
				108,
				13,
				12
			],
			"139": [
				108,
				30,
				18
			],
			"140": [
				111,
				29,
				14
			],
			"141": [
				111,
				22,
				16
			],
			"142": [
				111,
				4,
				28
			],
			"143": [
				111,
				13,
				14
			],
			"144": [
				111,
				25,
				3
			],
			"145": [
				112,
				21,
				5
			],
			"146": [
				112,
				9,
				18
			],
			"147": [
				112,
				13,
				3
			],
			"148": [
				113,
				22,
				24
			],
			"149": [
				113,
				12,
				24
			],
			"150": [
				114,
				5,
				17
			],
			"151": [
				114,
				19,
				22
			],
			"152": [
				115,
				3,
				15
			],
			"153": [
				115,
				5,
				10
			],
			"154": [
				115,
				17,
				17
			],
			"155": [
				115,
				20,
				20
			],
			"156": [
				117,
				12,
				27
			],
			"157": [
				117,
				16,
				27
			],
			"158": [
				118,
				25,
				22
			],
			"159": [
				118,
				24,
				23
			],
			"160": [
				119,
				3,
				7
			],
			"161": [
				119,
				10,
				4
			],
			"162": [
				119,
				2,
				23
			],
			"163": [
				119,
				6,
				17
			],
			"164": [
				119,
				27,
				4
			],
			"165": [
				119,
				23,
				9
			],
			"166": [
				120,
				23,
				4
			],
			"167": [
				120,
				29,
				23
			],
			"168": [
				120,
				8,
				5
			],
			"169": [
				122,
				8,
				7
			],
			"170": [
				122,
				6,
				3
			],
			"171": [
				122,
				1,
				4
			],
			"172": [
				123,
				3,
				4
			],
			"173": [
				127,
				20,
				24
			],
			"174": [
				129,
				11,
				19
			],
			"175": [
				129,
				16,
				17
			],
			"176": [
				129,
				18,
				18
			],
			"177": [
				129,
				22,
				18
			],
			"178": [
				131,
				1,
				7
			],
			"179": [
				131,
				2,
				8
			],
			"180": [
				131,
				7,
				6
			],
			"181": [
				132,
				23,
				19
			],
			"182": [
				132,
				22,
				15
			],
			"183": [
				134,
				9,
				17
			],
			"184": [
				134,
				16,
				13
			],
			"185": [
				140,
				27,
				7
			],
			"186": [
				140,
				2,
				20
			],
			"187": [
				141,
				4,
				19
			],
			"188": [
				142,
				2,
				5
			],
			"189": [
				142,
				11,
				7
			],
			"190": [
				144,
				4,
				6
			],
			"191": [
				144,
				8,
				5
			],
			"192": [
				144,
				12,
				6
			],
			"193": [
				145,
				14,
				5
			],
			"194": [
				147,
				7,
				8
			],
			"195": [
				152,
				3,
				4
			],
			"196": [
				153,
				7,
				15
			],
			"197": [
				157,
				11,
				9
			],
			"198": [
				157,
				11,
				10
			],
			"199": [
				157,
				10,
				23
			],
			"200": [
				157,
				19,
				14
			],
			"203": [
				167,
				18,
				4
			],
			"204": [
				167,
				26,
				12
			],
			"205": [
				168,
				14,
				20
			],
			"206": [
				169,
				20,
				21
			],
			"207": [
				170,
				12,
				18
			],
			"208": [
				172,
				5,
				15
			],
			"214": [
				183,
				9,
				8
			],
			"215": [
				183,
				11,
				19
			],
			"216": [
				183,
				21,
				20
			],
			"217": [
				183,
				27,
				6
			],
			"218": [
				183,
				14,
				18
			],
			"219": [
				185,
				19,
				9
			],
			"220": [
				185,
				26,
				6
			],
			"221": [
				186,
				14,
				21
			],
			"222": [
				199,
				18,
				4
			],
			"223": [
				199,
				22,
				3
			],
			"224": [
				199,
				26,
				25
			],
			"225": [
				201,
				8,
				28
			],
			"226": [
				201,
				4,
				10
			],
			"227": [
				201,
				12,
				11
			],
			"228": [
				201,
				16,
				11
			],
			"229": [
				201,
				16,
				12
			],
			"230": [
				201,
				20,
				12
			],
			"231": [
				201,
				20,
				14
			],
			"232": [
				201,
				10,
				26
			],
			"233": [
				201,
				15,
				28
			],
			"234": [
				201,
				27,
				27
			],
			"235": [
				201,
				28,
				27
			],
			"236": [
				201,
				29,
				27
			],
			"237": [
				202,
				14,
				8
			],
			"238": [
				202,
				17,
				9
			],
			"239": [
				202,
				18,
				16
			],
			"240": [
				202,
				18,
				22
			],
			"241": [
				205,
				17,
				5
			],
			"242": [
				206,
				2,
				5
			],
			"243": [
				206,
				14,
				7
			],
			"244": [
				207,
				9,
				7
			],
			"245": [
				209,
				9,
				7
			],
			"246": [
				210,
				9,
				7
			],
			"247": [
				211,
				9,
				7
			],
			"248": [
				212,
				9,
				7
			],
			"256": [
				258,
				10,
				3
			],
			"257": [
				258,
				2,
				10
			],
			"258": [
				258,
				25,
				5
			],
			"259": [
				259,
				5,
				3
			],
			"260": [
				262,
				3,
				5
			],
			"261": [
				262,
				3,
				6
			],
			"262": [
				262,
				4,
				6
			],
			"263": [
				262,
				10,
				4
			],
			"264": [
				262,
				11,
				5
			],
			"265": [
				262,
				11,
				6
			],
			"266": [
				266,
				23,
				4
			],
			"267": [
				266,
				24,
				3
			],
			"268": [
				266,
				26,
				4
			],
			"269": [
				267,
				27,
				18
			],
			"270": [
				267,
				28,
				18
			],
			"271": [
				267,
				29,
				19
			],
			"272": [
				272,
				6,
				3
			],
			"273": [
				273,
				8,
				3
			],
			"274": [
				277,
				5,
				4
			],
			"275": [
				278,
				5,
				4
			],
			"276": [
				279,
				5,
				4
			],
			"277": [
				280,
				5,
				4
			],
			"278": [
				281,
				6,
				3
			],
			"279": [
				281,
				1,
				7
			],
			"280": [
				281,
				11,
				7
			],
			"281": [
				281,
				6,
				11
			],
			"282": [
				282,
				6,
				3
			],
			"283": [
				282,
				1,
				7
			],
			"284": [
				282,
				11,
				7
			],
			"285": [
				282,
				6,
				11
			],
			"286": [
				283,
				8,
				10
			],
			"287": [
				283,
				21,
				24
			],
			"288": [
				285,
				6,
				3
			],
			"290": [
				287,
				28,
				11
			],
			"291": [
				289,
				5,
				10
			],
			"292": [
				289,
				6,
				20
			],
			"293": [
				289,
				26,
				12
			],
			"294": [
				290,
				8,
				7
			],
			"295": [
				291,
				13,
				11
			],
			"296": [
				291,
				26,
				19
			],
			"297": [
				291,
				15,
				25
			],
			"298": [
				292,
				16,
				19
			],
			"299": [
				292,
				29,
				23
			],
			"300": [
				293,
				6,
				12
			],
			"301": [
				293,
				29,
				22
			],
			"303": [
				295,
				16,
				24
			],
			"305": [
				310,
				8,
				6
			],
			"306": [
				310,
				26,
				6
			],
			"307": [
				310,
				25,
				21
			],
			"308": [
				311,
				9,
				5
			],
			"309": [
				311,
				24,
				25
			],
			"310": [
				312,
				18,
				6
			],
			"311": [
				312,
				3,
				21
			],
			"312": [
				312,
				4,
				21
			],
			"313": [
				312,
				5,
				21
			],
			"314": [
				312,
				11,
				23
			],
			"315": [
				312,
				25,
				21
			],
			"317": [
				314,
				6,
				3
			],
			"318": [
				314,
				5,
				10
			],
			"319": [
				314,
				20,
				8
			],
			"320": [
				314,
				25,
				12
			],
			"321": [
				314,
				18,
				21
			],
			"322": [
				315,
				15,
				9
			],
			"323": [
				315,
				15,
				10
			],
			"324": [
				315,
				16,
				9
			],
			"325": [
				315,
				16,
				10
			],
			"326": [
				317,
				1,
				6
			],
			"327": [
				317,
				9,
				6
			],
			"328": [
				325,
				5,
				4
			],
			"329": [
				325,
				6,
				4
			],
			"330": [
				325,
				7,
				4
			],
			"331": [
				325,
				10,
				5
			],
			"332": [
				325,
				10,
				6
			],
			"333": [
				325,
				3,
				18
			],
			"334": [
				325,
				4,
				18
			],
			"335": [
				325,
				28,
				5
			],
			"336": [
				325,
				28,
				6
			],
			"337": [
				325,
				29,
				5
			],
			"338": [
				326,
				29,
				29
			],
			"339": [
				326,
				23,
				29
			],
			"340": [
				326,
				29,
				28
			],
			"341": [
				326,
				25,
				28
			],
			"342": [
				326,
				23,
				27
			],
			"343": [
				326,
				23,
				13
			],
			"344": [
				326,
				25,
				13
			],
			"345": [
				326,
				23,
				15
			],
			"346": [
				326,
				25,
				15
			],
			"347": [
				326,
				11,
				6
			],
			"348": [
				327,
				10,
				4
			],
			"349": [
				327,
				11,
				4
			],
			"350": [
				327,
				11,
				5
			],
			"351": [
				327,
				1,
				9
			],
			"352": [
				328,
				7,
				5
			],
			"353": [
				328,
				9,
				5
			],
			"354": [
				328,
				11,
				5
			],
			"355": [
				328,
				7,
				7
			],
			"356": [
				328,
				9,
				7
			],
			"357": [
				328,
				11,
				7
			],
			"358": [
				329,
				13,
				3
			],
			"359": [
				329,
				13,
				5
			],
			"360": [
				330,
				18,
				28
			],
			"361": [
				331,
				2,
				5
			],
			"362": [
				331,
				14,
				5
			],
			"363": [
				332,
				2,
				6
			],
			"364": [
				332,
				16,
				7
			],
			"365": [
				333,
				30,
				19
			],
			"366": [
				333,
				29,
				26
			],
			"367": [
				334,
				3,
				5
			],
			"368": [
				334,
				9,
				5
			],
			"369": [
				335,
				3,
				5
			],
			"370": [
				335,
				4,
				7
			],
			"371": [
				335,
				19,
				9
			],
			"372": [
				336,
				6,
				3
			],
			"373": [
				337,
				9,
				5
			],
			"374": [
				338,
				25,
				9
			],
			"375": [
				339,
				12,
				8
			],
			"376": [
				339,
				10,
				10
			],
			"377": [
				340,
				9,
				5
			],
			"378": [
				340,
				3,
				10
			],
			"381": [
				346,
				28,
				11
			],
			"382": [
				346,
				8,
				24
			],
			"383": [
				347,
				6,
				11
			],
			"384": [
				347,
				26,
				13
			],
			"387": [
				355,
				26,
				22
			],
			"388": [
				355,
				28,
				6
			],
			"389": [
				355,
				29,
				7
			],
			"390": [
				359,
				6,
				24
			],
			"391": [
				360,
				10,
				4
			],
			"392": [
				360,
				26,
				12
			],
			"393": [
				360,
				25,
				23
			],
			"394": [
				361,
				25,
				16
			],
			"395": [
				361,
				23,
				24
			],
			"396": [
				361,
				14,
				28
			],
			"398": [
				362,
				28,
				7
			],
			"399": [
				362,
				6,
				24
			],
			"400": [
				363,
				7,
				9
			],
			"401": [
				363,
				1,
				15
			],
			"402": [
				363,
				26,
				11
			],
			"403": [
				363,
				27,
				16
			],
			"404": [
				363,
				5,
				20
			],
			"406": [
				364,
				15,
				5
			],
			"407": [
				364,
				25,
				5
			],
			"408": [
				364,
				18,
				17
			],
			"409": [
				364,
				6,
				27
			],
			"410": [
				366,
				7,
				11
			],
			"412": [
				367,
				21,
				10
			],
			"413": [
				367,
				13,
				24
			],
			"414": [
				368,
				7,
				15
			],
			"415": [
				368,
				24,
				14
			],
			"416": [
				371,
				3,
				6
			],
			"417": [
				372,
				23,
				5
			],
			"418": [
				372,
				2,
				14
			],
			"419": [
				373,
				13,
				4
			],
			"420": [
				374,
				3,
				14
			],
			"421": [
				375,
				7,
				5
			],
			"422": [
				377,
				2,
				4
			],
			"424": [
				380,
				2,
				5
			],
			"425": [
				380,
				4,
				5
			]
		},
		"fe": {
			"0": [
				0,
				8,
				2
			],
			"1": [
				0,
				3,
				6
			],
			"2": [
				0,
				12,
				10
			],
			"3": [
				0,
				18,
				19
			],
			"4": [
				0,
				24,
				27
			],
			"5": [
				0,
				27,
				26
			],
			"6": [
				0,
				29,
				29
			],
			"7": [
				1,
				21,
				8
			],
			"8": [
				1,
				28,
				20
			],
			"9": [
				1,
				29,
				20
			],
			"10": [
				2,
				24,
				18
			],
			"11": [
				4,
				13,
				8
			],
			"12": [
				4,
				23,
				8
			],
			"13": [
				4,
				30,
				17
			],
			"14": [
				5,
				4,
				3
			],
			"15": [
				5,
				1,
				5
			],
			"16": [
				5,
				1,
				7
			],
			"17": [
				5,
				4,
				7
			],
			"18": [
				6,
				9,
				15
			],
			"19": [
				11,
				16,
				3
			],
			"20": [
				11,
				17,
				3
			],
			"21": [
				11,
				19,
				3
			],
			"22": [
				11,
				10,
				17
			],
			"23": [
				12,
				5,
				4
			],
			"24": [
				12,
				9,
				4
			],
			"25": [
				14,
				1,
				3
			],
			"26": [
				14,
				5,
				3
			],
			"27": [
				15,
				22,
				5
			],
			"28": [
				15,
				23,
				5
			],
			"29": [
				15,
				23,
				7
			],
			"30": [
				15,
				22,
				25
			],
			"31": [
				33,
				31,
				8
			],
			"32": [
				33,
				31,
				9
			],
			"33": [
				33,
				20,
				29
			],
			"34": [
				42,
				13,
				3
			],
			"35": [
				42,
				14,
				3
			],
			"36": [
				42,
				15,
				3
			],
			"37": [
				46,
				2,
				15
			],
			"38": [
				46,
				3,
				15
			],
			"39": [
				46,
				4,
				15
			],
			"40": [
				46,
				2,
				16
			],
			"41": [
				46,
				3,
				16
			],
			"42": [
				46,
				4,
				16
			],
			"43": [
				53,
				3,
				3
			],
			"44": [
				53,
				1,
				4
			],
			"45": [
				53,
				2,
				4
			],
			"46": [
				53,
				8,
				4
			],
			"47": [
				54,
				1,
				4
			],
			"48": [
				54,
				1,
				5
			],
			"50": [
				55,
				7,
				4
			],
			"51": [
				55,
				4,
				5
			],
			"52": [
				55,
				5,
				5
			],
			"53": [
				55,
				6,
				5
			],
			"54": [
				56,
				4,
				3
			],
			"55": [
				58,
				13,
				29
			],
			"56": [
				58,
				16,
				29
			],
			"57": [
				58,
				19,
				29
			],
			"58": [
				59,
				1,
				12
			],
			"59": [
				59,
				7,
				19
			],
			"60": [
				59,
				20,
				17
			],
			"61": [
				61,
				17,
				5
			],
			"62": [
				62,
				2,
				7
			],
			"63": [
				64,
				11,
				4
			],
			"64": [
				66,
				1,
				3
			],
			"65": [
				66,
				4,
				3
			],
			"66": [
				66,
				5,
				3
			],
			"67": [
				67,
				3,
				4
			],
			"68": [
				67,
				4,
				4
			],
			"69": [
				67,
				5,
				4
			],
			"70": [
				67,
				7,
				4
			],
			"71": [
				67,
				1,
				5
			],
			"72": [
				67,
				3,
				5
			],
			"73": [
				67,
				4,
				5
			],
			"74": [
				67,
				5,
				5
			],
			"75": [
				67,
				7,
				5
			],
			"76": [
				68,
				14,
				5
			],
			"77": [
				73,
				1,
				7
			],
			"78": [
				73,
				28,
				7
			],
			"79": [
				73,
				28,
				8
			],
			"80": [
				73,
				28,
				9
			],
			"81": [
				78,
				9,
				6
			],
			"82": [
				79,
				3,
				7
			],
			"83": [
				80,
				2,
				3
			],
			"84": [
				80,
				6,
				3
			],
			"85": [
				80,
				1,
				4
			],
			"86": [
				80,
				1,
				5
			],
			"87": [
				91,
				5,
				6
			],
			"88": [
				92,
				1,
				3
			],
			"89": [
				92,
				2,
				3
			],
			"90": [
				92,
				4,
				3
			],
			"91": [
				92,
				5,
				3
			],
			"92": [
				92,
				7,
				3
			],
			"93": [
				92,
				8,
				3
			],
			"94": [
				92,
				10,
				3
			],
			"95": [
				92,
				11,
				3
			],
			"96": [
				93,
				3,
				5
			],
			"97": [
				93,
				4,
				5
			],
			"98": [
				93,
				5,
				5
			],
			"99": [
				93,
				6,
				5
			],
			"100": [
				93,
				7,
				5
			],
			"101": [
				93,
				8,
				5
			],
			"102": [
				93,
				9,
				5
			],
			"103": [
				93,
				10,
				5
			],
			"104": [
				93,
				11,
				5
			],
			"105": [
				93,
				3,
				6
			],
			"106": [
				93,
				4,
				6
			],
			"107": [
				93,
				5,
				6
			],
			"108": [
				93,
				6,
				6
			],
			"109": [
				93,
				7,
				6
			],
			"110": [
				93,
				8,
				6
			],
			"111": [
				93,
				9,
				6
			],
			"112": [
				93,
				10,
				6
			],
			"113": [
				93,
				11,
				6
			],
			"114": [
				94,
				13,
				4
			],
			"115": [
				95,
				4,
				3
			],
			"116": [
				95,
				4,
				4
			],
			"117": [
				95,
				14,
				3
			],
			"118": [
				95,
				14,
				4
			],
			"119": [
				95,
				15,
				4
			],
			"120": [
				97,
				1,
				5
			],
			"121": [
				97,
				11,
				5
			],
			"122": [
				98,
				4,
				4
			],
			"123": [
				98,
				8,
				8
			],
			"124": [
				98,
				10,
				5
			],
			"125": [
				98,
				11,
				5
			],
			"126": [
				99,
				2,
				5
			],
			"127": [
				99,
				12,
				5
			],
			"128": [
				100,
				1,
				5
			],
			"129": [
				100,
				1,
				6
			],
			"130": [
				100,
				6,
				3
			],
			"131": [
				100,
				11,
				5
			],
			"132": [
				100,
				11,
				6
			],
			"133": [
				101,
				2,
				11
			],
			"134": [
				101,
				3,
				11
			],
			"135": [
				101,
				8,
				12
			],
			"136": [
				108,
				6,
				3
			],
			"137": [
				108,
				24,
				3
			],
			"138": [
				108,
				13,
				12
			],
			"139": [
				108,
				30,
				18
			],
			"140": [
				111,
				29,
				14
			],
			"141": [
				111,
				22,
				16
			],
			"142": [
				111,
				4,
				28
			],
			"143": [
				111,
				13,
				14
			],
			"144": [
				111,
				25,
				3
			],
			"145": [
				112,
				21,
				5
			],
			"146": [
				112,
				9,
				18
			],
			"147": [
				112,
				13,
				3
			],
			"148": [
				113,
				22,
				24
			],
			"149": [
				113,
				12,
				24
			],
			"150": [
				114,
				5,
				17
			],
			"151": [
				114,
				19,
				22
			],
			"152": [
				115,
				3,
				15
			],
			"153": [
				115,
				5,
				10
			],
			"154": [
				115,
				17,
				17
			],
			"155": [
				115,
				20,
				20
			],
			"156": [
				117,
				12,
				27
			],
			"157": [
				117,
				16,
				27
			],
			"158": [
				118,
				25,
				22
			],
			"159": [
				118,
				24,
				23
			],
			"160": [
				119,
				3,
				7
			],
			"161": [
				119,
				10,
				4
			],
			"162": [
				119,
				2,
				23
			],
			"163": [
				119,
				6,
				17
			],
			"164": [
				119,
				27,
				4
			],
			"165": [
				119,
				23,
				9
			],
			"166": [
				120,
				23,
				4
			],
			"167": [
				120,
				29,
				23
			],
			"168": [
				120,
				8,
				5
			],
			"169": [
				122,
				8,
				7
			],
			"170": [
				122,
				6,
				3
			],
			"171": [
				122,
				1,
				4
			],
			"172": [
				123,
				3,
				4
			],
			"173": [
				127,
				20,
				24
			],
			"174": [
				129,
				11,
				19
			],
			"175": [
				129,
				16,
				17
			],
			"176": [
				129,
				18,
				18
			],
			"177": [
				129,
				22,
				18
			],
			"178": [
				131,
				1,
				7
			],
			"179": [
				131,
				2,
				8
			],
			"180": [
				131,
				7,
				6
			],
			"181": [
				132,
				23,
				19
			],
			"182": [
				132,
				22,
				15
			],
			"183": [
				134,
				9,
				17
			],
			"184": [
				134,
				16,
				13
			],
			"185": [
				140,
				27,
				7
			],
			"186": [
				140,
				2,
				20
			],
			"187": [
				141,
				4,
				19
			],
			"188": [
				142,
				2,
				5
			],
			"189": [
				142,
				11,
				7
			],
			"190": [
				144,
				4,
				6
			],
			"191": [
				144,
				8,
				5
			],
			"192": [
				144,
				12,
				6
			],
			"193": [
				145,
				14,
				5
			],
			"194": [
				147,
				7,
				8
			],
			"195": [
				152,
				3,
				4
			],
			"196": [
				153,
				7,
				15
			],
			"197": [
				157,
				11,
				9
			],
			"198": [
				157,
				11,
				10
			],
			"199": [
				157,
				10,
				23
			],
			"200": [
				157,
				19,
				14
			],
			"201": [
				167,
				18,
				4
			],
			"202": [
				167,
				26,
				12
			],
			"203": [
				168,
				14,
				20
			],
			"204": [
				169,
				20,
				21
			],
			"205": [
				170,
				12,
				18
			],
			"206": [
				172,
				5,
				15
			],
			"207": [
				183,
				9,
				8
			],
			"208": [
				183,
				11,
				19
			],
			"209": [
				183,
				21,
				20
			],
			"210": [
				183,
				27,
				6
			],
			"211": [
				183,
				14,
				18
			],
			"212": [
				185,
				19,
				9
			],
			"213": [
				185,
				26,
				6
			],
			"214": [
				186,
				14,
				21
			],
			"215": [
				199,
				18,
				4
			],
			"216": [
				199,
				22,
				3
			],
			"217": [
				199,
				26,
				25
			],
			"218": [
				201,
				8,
				28
			],
			"219": [
				201,
				4,
				10
			],
			"220": [
				201,
				12,
				11
			],
			"221": [
				201,
				16,
				11
			],
			"222": [
				201,
				16,
				12
			],
			"223": [
				201,
				20,
				12
			],
			"224": [
				201,
				20,
				14
			],
			"225": [
				201,
				10,
				26
			],
			"226": [
				201,
				15,
				28
			],
			"227": [
				201,
				27,
				27
			],
			"228": [
				201,
				28,
				27
			],
			"229": [
				201,
				29,
				27
			],
			"230": [
				202,
				14,
				8
			],
			"231": [
				202,
				17,
				9
			],
			"232": [
				202,
				18,
				16
			],
			"233": [
				202,
				18,
				22
			],
			"234": [
				205,
				17,
				5
			],
			"235": [
				206,
				2,
				5
			],
			"236": [
				206,
				14,
				7
			],
			"237": [
				207,
				9,
				7
			],
			"238": [
				209,
				9,
				7
			],
			"239": [
				210,
				9,
				7
			],
			"240": [
				211,
				9,
				7
			],
			"241": [
				212,
				9,
				7
			],
			"256": [
				258,
				10,
				3
			],
			"257": [
				258,
				2,
				10
			],
			"258": [
				258,
				25,
				5
			],
			"259": [
				259,
				5,
				3
			],
			"260": [
				262,
				3,
				5
			],
			"261": [
				262,
				3,
				6
			],
			"262": [
				262,
				4,
				6
			],
			"263": [
				262,
				10,
				4
			],
			"264": [
				262,
				11,
				5
			],
			"265": [
				262,
				11,
				6
			],
			"266": [
				266,
				23,
				4
			],
			"267": [
				266,
				24,
				3
			],
			"268": [
				266,
				26,
				4
			],
			"269": [
				267,
				27,
				18
			],
			"270": [
				267,
				28,
				18
			],
			"271": [
				267,
				29,
				19
			],
			"272": [
				272,
				6,
				3
			],
			"273": [
				273,
				8,
				3
			],
			"274": [
				277,
				5,
				4
			],
			"275": [
				278,
				5,
				4
			],
			"276": [
				279,
				5,
				4
			],
			"277": [
				280,
				5,
				4
			],
			"278": [
				281,
				6,
				3
			],
			"279": [
				281,
				1,
				7
			],
			"280": [
				281,
				11,
				7
			],
			"281": [
				281,
				6,
				11
			],
			"282": [
				282,
				6,
				3
			],
			"283": [
				282,
				1,
				7
			],
			"284": [
				282,
				11,
				7
			],
			"285": [
				282,
				6,
				11
			],
			"286": [
				283,
				8,
				10
			],
			"287": [
				283,
				21,
				24
			],
			"288": [
				285,
				6,
				3
			],
			"289": [
				287,
				28,
				11
			],
			"290": [
				289,
				5,
				10
			],
			"291": [
				289,
				6,
				20
			],
			"292": [
				289,
				26,
				12
			],
			"293": [
				290,
				8,
				7
			],
			"294": [
				291,
				13,
				11
			],
			"295": [
				291,
				26,
				19
			],
			"296": [
				291,
				15,
				25
			],
			"297": [
				292,
				16,
				19
			],
			"298": [
				292,
				29,
				23
			],
			"299": [
				293,
				6,
				12
			],
			"300": [
				293,
				29,
				22
			],
			"302": [
				295,
				16,
				24
			],
			"304": [
				310,
				8,
				6
			],
			"305": [
				310,
				26,
				6
			],
			"306": [
				310,
				25,
				21
			],
			"307": [
				311,
				9,
				5
			],
			"308": [
				311,
				24,
				25
			],
			"309": [
				312,
				18,
				6
			],
			"310": [
				312,
				3,
				21
			],
			"311": [
				312,
				4,
				21
			],
			"312": [
				312,
				5,
				21
			],
			"313": [
				312,
				11,
				23
			],
			"314": [
				312,
				25,
				21
			],
			"315": [
				314,
				6,
				3
			],
			"316": [
				314,
				5,
				10
			],
			"317": [
				314,
				20,
				8
			],
			"318": [
				314,
				25,
				12
			],
			"319": [
				314,
				18,
				21
			],
			"320": [
				315,
				15,
				9
			],
			"321": [
				315,
				15,
				10
			],
			"322": [
				315,
				16,
				9
			],
			"323": [
				315,
				16,
				10
			],
			"324": [
				317,
				1,
				6
			],
			"325": [
				317,
				9,
				6
			],
			"326": [
				325,
				5,
				4
			],
			"327": [
				325,
				6,
				4
			],
			"328": [
				325,
				7,
				4
			],
			"329": [
				325,
				10,
				5
			],
			"330": [
				325,
				10,
				6
			],
			"331": [
				325,
				3,
				18
			],
			"332": [
				325,
				4,
				18
			],
			"333": [
				325,
				28,
				5
			],
			"334": [
				325,
				28,
				6
			],
			"335": [
				325,
				29,
				5
			],
			"336": [
				326,
				29,
				29
			],
			"337": [
				326,
				23,
				29
			],
			"338": [
				326,
				29,
				28
			],
			"339": [
				326,
				25,
				28
			],
			"340": [
				326,
				23,
				27
			],
			"341": [
				326,
				23,
				13
			],
			"342": [
				326,
				25,
				13
			],
			"343": [
				326,
				23,
				15
			],
			"344": [
				326,
				25,
				15
			],
			"345": [
				326,
				11,
				6
			],
			"346": [
				327,
				10,
				4
			],
			"347": [
				327,
				11,
				4
			],
			"348": [
				327,
				11,
				5
			],
			"349": [
				327,
				1,
				9
			],
			"350": [
				328,
				7,
				5
			],
			"351": [
				328,
				9,
				5
			],
			"352": [
				328,
				11,
				5
			],
			"353": [
				328,
				7,
				7
			],
			"354": [
				328,
				9,
				7
			],
			"355": [
				328,
				11,
				7
			],
			"356": [
				329,
				13,
				3
			],
			"357": [
				329,
				13,
				5
			],
			"358": [
				330,
				18,
				28
			],
			"359": [
				331,
				2,
				5
			],
			"360": [
				331,
				14,
				5
			],
			"361": [
				332,
				2,
				6
			],
			"362": [
				332,
				16,
				7
			],
			"363": [
				333,
				30,
				19
			],
			"364": [
				333,
				29,
				26
			],
			"365": [
				334,
				3,
				5
			],
			"366": [
				334,
				9,
				5
			],
			"367": [
				335,
				3,
				5
			],
			"368": [
				335,
				4,
				7
			],
			"369": [
				335,
				19,
				9
			],
			"370": [
				336,
				6,
				3
			],
			"371": [
				337,
				9,
				5
			],
			"372": [
				338,
				25,
				9
			],
			"373": [
				339,
				12,
				8
			],
			"374": [
				339,
				10,
				10
			],
			"375": [
				340,
				9,
				5
			],
			"376": [
				340,
				3,
				10
			],
			"377": [
				346,
				28,
				11
			],
			"378": [
				346,
				8,
				24
			],
			"379": [
				347,
				6,
				11
			],
			"380": [
				347,
				26,
				13
			],
			"381": [
				355,
				26,
				22
			],
			"382": [
				355,
				28,
				6
			],
			"383": [
				355,
				29,
				7
			],
			"384": [
				359,
				6,
				24
			],
			"385": [
				360,
				10,
				4
			],
			"386": [
				360,
				26,
				12
			],
			"387": [
				360,
				25,
				23
			],
			"388": [
				361,
				25,
				16
			],
			"389": [
				361,
				23,
				24
			],
			"390": [
				361,
				14,
				28
			],
			"391": [
				362,
				28,
				7
			],
			"392": [
				362,
				6,
				24
			],
			"393": [
				363,
				7,
				9
			],
			"394": [
				363,
				1,
				15
			],
			"395": [
				363,
				26,
				11
			],
			"396": [
				363,
				27,
				16
			],
			"397": [
				363,
				5,
				20
			],
			"398": [
				364,
				15,
				5
			],
			"399": [
				364,
				25,
				5
			],
			"400": [
				364,
				18,
				17
			],
			"401": [
				364,
				6,
				27
			],
			"402": [
				366,
				7,
				11
			],
			"404": [
				367,
				21,
				10
			],
			"405": [
				367,
				13,
				24
			],
			"406": [
				368,
				7,
				15
			],
			"407": [
				368,
				24,
				14
			],
			"408": [
				371,
				3,
				6
			],
			"409": [
				372,
				23,
				5
			],
			"410": [
				372,
				2,
				14
			],
			"411": [
				373,
				13,
				4
			],
			"412": [
				374,
				3,
				14
			],
			"413": [
				375,
				7,
				5
			],
			"414": [
				377,
				2,
				4
			],
			"415": [
				380,
				2,
				5
			],
			"416": [
				380,
				4,
				5
			]
		}
	}

    /*
     * Global Variables
     */

    /*
     * Functions
     */

	var testMap = function(map, x, y) {
	}

	var init = function() {
		var button = document.getElementById("button-check");
		button.addEventListener('click', onButtonCheck);
	}

	var check = function(data) {
		var e = document.getElementById('input-treasure-set');
		var treasureSet = e.options[e.selectedIndex].value;

		if (!(treasureSet in TREASURE)) {
			return;
		}

		var treasure = TREASURE[treasureSet];
		var slot = 0;

		if (document.getElementById('input-slot-2').checked) {
			slot = 1;
		} else if (document.getElementById('input-slot-3').checked) {
			slot = 2;
		} else if (document.getElementById('input-slot-4').checked) {
			slot = 3;
		}

		BASE = 0x02A0 + 0x0800 * slot;

		results = {};

		for (var i = 0; i < 64; i++) {
			for (var j = 0; j < 8; j++) {
				if ((data[BASE + i] & Math.pow(2, j)) > 0) {
					results[i * 8 + j] = true;
				}
			}
		}

		total = 0;
		count = 0;
		missing = {};

		for (var i = 0; i < 512; i++) {
			if (i in treasure) {
				total++;

				if (!(i in results)) {
					data = treasure[i];

					if (!(data[0] in missing)) {
						missing[data[0]] = [];
					}

					missing[data[0]].push(i);
					count++;
				}
			}
		}

		var output = document.getElementById("results");
		output.innerHTML = "<p>You are missing <b>" + count + "</b> out of <b>" + total + "</b> treasures:";

		Object.keys(missing).forEach(
			(key) => {
				var row = document.createElement("div");
				var caption = document.createElement("div");
				var img_container = document.createElement("div");

				row.className = "row align-items-center mb-2";
				caption.className = "col";
				img_container.className = "col";

				img_container.innerHTML = '<img src="/static/img/maps/composite/3' + parseInt(key).toString(16).padStart(3, '0').toUpperCase() + '-0.png">';
				caption.innerHTML = '<p>You are missing the treasures at the following coordinates:</p><ul>';

				for (var i = 0; i < missing[key].length; i++) {
					var index = missing[key][i];

					var map = treasure[index][0];
					var x = treasure[index][1];
					var y = treasure[index][2];

					caption.innerHTML += '<li>' + x + ', ' + y + '</li>';
				}

				caption.innerHTML += '</ul>';

				row.appendChild(img_container);
				row.appendChild(caption);

				output.appendChild(row);
			}
		);
	}

	var onButtonCheck = function(e) {
		var files = document.getElementById("input-file").files;

		if (files.length == 1) {
			var file = files[0];
			var reader = new FileReader();

			reader.onload = function() {
				var data = new Uint8Array(this.result);

				if (data.length != 8192 && data.length != 32768) {
					document.getElementById("warning").innerHTML = '<div class="bs-callout bs-callout-warning"><span class="fas fa-exclamation"></span><h4>Oops!</h4>Based on the file size, it is very unlikely that the submitted file is an SRAM file. Be sure you are selecting a valid SRAM file (usually ending in .srm or .SaveRAM) and try again. Just in case this check is wrong, your results are still shown below.</p></div>';
				} else {
					document.getElementById("warning").innerHTML = '';
				}

				check(data);
			}

			reader.readAsArrayBuffer(file);
		}
	}

	var updateButton = function() {
		if (document.getElementById("input-file").files.length == 1) {
			document.getElementById("button-check").classList.remove("disabled");
		} else {
			document.getElementById("button-check").classList.add("disabled");
		}
	}

    /*
     * Public Definition
     */

    return {
		init: init,
		updateButton: updateButton
    };
}();
